<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>LDS Statistics Dashboard</title>

    <!-- Plotly for charts -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <!-- PapaParse for CSV loading -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>

<body>

<h1>LDS Statistics Dashboard</h1>
<h2 class="dashboard-subtitle">
    A visual summary of the Facts and Statistics pages of The Church of Jesus Christ of Latter-day Saints.
</h2>
<div id="top-panel">
    <!-- REGION IMAGE + NAME -->
    <div id="region-info">
        <div id="region-display">
            <img id="region-image">
        </div>

        <div id="region-name"></div>
    </div>

    <!-- DROPDOWNS -->
    <div id="filters">

        <div class="filter-row">
            <span>Continent:</span>
            <select id="continent"></select>
        </div>

        <div class="filter-row">
            <span>Country:</span>
            <select id="country"></select>
        </div>

        <div class="filter-row">
            <span>State (US/Canada):</span>
            <select id="state"></select>
        </div>

        <div class="filter-row">
            <span>Start Year:</span>
            <select id="yearStart"></select>
        </div>

        <div class="filter-row">
            <span>End Year:</span>
            <select id="yearEnd"></select>
        </div>

    </div>

</div>

<div id="about-row">

    <div id="about">
        <a id="about-link" target="_blank" href="about.html">About this Site</a>
    </div>
    <div id="normalized-toggle">
        <label>
            <input type="checkbox" id="use-normalized" checked>
            Use Normalized Data
            (<a id="normalized-link" target="_blank" href="about.html#normalized-series">what's this?</a>)
        </label>
    </div>

</div>


<hr id="top-separator">
<div id="dashboard-summary-wrapper">
    <div id="dashboard-summary-box">
        <p>
            The Church of Jesus Christ of Latter-day Saints has reported statistical information on its
            <em>Facts and Statistics</em> pages since 2012. This dashboard draws from both current and
            archived versions of those pages to allow for comparisons across regions and over time.
            A distinctive feature of the dashboard is the ability to select any two available datasets
            and automatically generate a <em>Series A per Series B</em> chart, allowing users to explore
            ratios and relationships that are not explicitly reported.
        </p>
    </div>
</div>

<!-- SERIES DROPDOWNS FOR TOP CHART -->
<div id="series-controls">
    <select id="seriesA"></select>

    <button id="swapSeries">&lt;-- switch --&gt;</button>

    <select id="seriesB"></select>
</div>

<!-- TOP CHART -->
<div id="chart"></div>

<!-- ===================== -->
<!-- TABLE SECTION         -->
<!-- ===================== -->

<div id="table-section">
	<div id="comparison-hint">
		<em>Click any row to update charts with that region</em>
	</div>
	
    <!-- TABLE TABS + COPY BUTTON -->
    <div id="table-tabs">

        <div class="tab-buttons">
            <button class="table-tab active" data-tab="comparison">
                Comparison by Country
            </button>
            <button class="table-tab" data-tab="chart">
                Chart Data
            </button>
        </div>

        <button id="copy-table-btn" title="Copy table to clipboard">
            Copy
        </button>

    </div>

    <!-- TABLE OUTPUT -->
    <div id="stats"></div>

</div>

<hr id="about-separator">

<div id="about-section">
	<h2>Notes & Sources</h2>
	<p>See the <a target="_blank" href="about.html">About this Site</a> page for more information about this data, including sources.</p>
</div>

<!-- SCRIPTS -->
<script src="script.js"></script>
<script src="table_script.js"></script>

</body>
</html>
